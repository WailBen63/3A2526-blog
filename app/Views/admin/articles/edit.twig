{% extends "base.twig" %}

{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <h1 class="mb-4">{{ page_title }}</h1>

            {% if errors %}
                <div class="alert alert-danger">
                    <ul class="mb-0">
                        {% for error in errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}

            <form method="POST" action="/3A2526-blog/public/admin/articles/update/{{ article.id }}">
                <div class="mb-3">
                    <label for="titre" class="form-label">Titre *</label>
                    <input type="text" class="form-control" id="titre" name="titre" 
                           value="{{ article.titre }}" required>
                </div>

                <div class="mb-3">
                    <label for="contenu" class="form-label">Contenu *</label>
                    <textarea class="form-control" id="contenu" name="contenu" 
                              rows="12" required>{{ article.contenu }}</textarea>
                </div>

                <div class="mb-3">
                    <label for="statut" class="form-label">Statut</label>
                    <select class="form-select" id="statut" name="statut">
                        <option value="Brouillon" {{ article.statut == 'Brouillon' ? 'selected' }}>Brouillon</option>
                        <option value="Public" {{ article.statut == 'Public' ? 'selected' }}>Public</option>
                        <option value="Archivé" {{ article.statut == 'Archivé' ? 'selected' }}>Archivé</option>
                    </select>
                </div>

                <div class="d-flex gap-2">
                    <button type="submit" class="btn btn-primary">Modifier l'article</button>
                    <a href="/3A2526-blog/public/admin/articles" class="btn btn-secondary">Annuler</a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}