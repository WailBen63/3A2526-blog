{% extends "base.twig" %}

{% block content %}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">{{ page_title }}</h1>
    <a href="/3A2526-Blog/public/admin/articles" class="btn btn-sm btn-outline-secondary">
        ← Retour
    </a>
</div>

{% if errors %}
    <div class="alert alert-danger">
        <ul class="mb-0">
            {% for error in errors %}
            <li>{{ error }}</li>
            {% endfor %}
        </ul>
    </div>
{% endif %}

<form action="/3A2526-Blog/public/admin/articles/store" method="POST">
    <div class="mb-3">
        <label for="titre" class="form-label">Titre</label>
        <input type="text" class="form-control" id="titre" name="titre" value="{{ old_input.titre|default('') }}" required>
    </div>

    <div class="mb-3">
        <label for="contenu" class="form-label">Contenu</label>
        <textarea class="form-control" id="contenu" name="contenu" rows="10" required>{{ old_input.contenu|default('') }}</textarea>
    </div>

    <div class="mb-3">
        <label for="statut" class="form-label">Statut</label>
        <select class="form-control" id="statut" name="statut">
            <option value="Brouillon" {{ old_input.statut|default('') == 'Brouillon' ? 'selected' : '' }}>Brouillon</option>
            <option value="Public" {{ old_input.statut|default('') == 'Public' ? 'selected' : '' }}>Public</option>
        </select>
    </div>

    <button type="submit" class="btn btn-primary">Créer l'article</button>
    <a href="/3A2526-Blog/public/admin/articles" class="btn btn-secondary">Annuler</a>
</form>
{% endblock %}